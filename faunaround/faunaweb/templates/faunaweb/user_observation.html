{% extends 'base.html' %}
{% load static %}
{% block title %}{{ block.super }}{% endblock title %}
{% block content %}
<h1>My observations</h1>
{% if user_observation_list %}
{% include 'faunaweb/includes/search.html' %}
<h3>You already spotted {{ species_count }} of {{ total_species_count }} species</h3>
<table class="observation-table">
    <tr>
        <th>Date</th>
        <th>Class</th>
        <th>Species</th>
        <th>Count</th>
        <th>Place</th>
        <th>Photo</th>
        <th colspan="2">Edit or delete</th>
    </tr>
    {% for observation in user_observation_list %}
        <tr>
            <td>{{ observation.date }}</td>
            <td>{{ observation.species.class_id.class_national }} ({{ observation.species.class_id.class_scientific }})</td>
            <td><a href="{% url 'species_detail' observation.species.pk %}">{{ observation.species.species_national }} ({{ observation.species.species_scientific }})</a></td>
            <td>{{ observation.count }}</td>
            <td>{{ observation.place }}</td>
            <td>
                {% if observation.photo %}
                <img src="{{ observation.photo.url }}" class="observation-img">
                {% else %}
                <p>No image uploaded</p>
                {% endif %}
            </td>
            <td><a href="{% url 'edit_observation' pk=observation.pk %}">Edit</a></td>
            <td><a href="{% url 'delete_observation' pk=observation.pk %}">Delete</a></td>
        </tr>
    {% endfor %}
<table>
<div class="total-entries">Total entries: {{ entries_count }}</div>
    {% else %}
    <p>No observations yet</p>
{% endif %}
{% endblock content %}